{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nexport function useAxiosGet(url, pageNumber) {\n  _s();\n\n  const [request, setRequest] = useState({\n    loading: false,\n    titles: [],\n    hasMore: false,\n    error: false\n  });\n  useEffect(() => {\n    setRequest({\n      loading: true,\n      data: null,\n      error: false\n    });\n    let cancel;\n    axios({\n      method: 'GET',\n      url: url + \"&page=\" + pageNumber,\n      cancelToken: new axios.cancelToken(c => cancel = c)\n    }).then(response => {\n      setRequest({\n        loading: false,\n        titles: prevTitles => [...new Set([...prevTitles, ...Array.from(response.data.results)])],\n        hasMore: response.data.page < response.data.total_pages,\n        error: false\n      });\n      console.log(\"has more?\", response.data.page, response.data.total_pages);\n    }).catch(() => {\n      setRequest({\n        loading: false,\n        data: null,\n        error: true\n      });\n    });\n  }, [url, pageNumber]);\n  return request;\n}\n\n_s(useAxiosGet, \"RCpt+b+RmXtZg8FOJuBG0pRxcBY=\");","map":{"version":3,"sources":["/home/nedim/misija-challenge/src/Hooks/HttpsRequests.js"],"names":["axios","React","useState","useEffect","useAxiosGet","url","pageNumber","request","setRequest","loading","titles","hasMore","error","data","cancel","method","cancelToken","c","then","response","prevTitles","Set","Array","from","results","page","total_pages","console","log","catch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,OAAO,SAASC,WAAT,CAAqBC,GAArB,EAAyBC,UAAzB,EAAqC;AAAA;;AACxC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC;AACnCO,IAAAA,OAAO,EAAC,KAD2B;AAEnCC,IAAAA,MAAM,EAAC,EAF4B;AAGnCC,IAAAA,OAAO,EAAC,KAH2B;AAInCC,IAAAA,KAAK,EAAC;AAJ6B,GAAD,CAAtC;AAOAT,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,UAAU,CAAC;AACPC,MAAAA,OAAO,EAAC,IADD;AAEPI,MAAAA,IAAI,EAAC,IAFE;AAGPD,MAAAA,KAAK,EAAC;AAHC,KAAD,CAAV;AAKA,QAAIE,MAAJ;AACAd,IAAAA,KAAK,CAAC;AACFe,MAAAA,MAAM,EAAE,KADN;AAEFV,MAAAA,GAAG,EAAEA,GAAG,GAAG,QAAN,GAAiBC,UAFpB;AAGFU,MAAAA,WAAW,EAAE,IAAIhB,KAAK,CAACgB,WAAV,CAAsBC,CAAC,IAAIH,MAAM,GAAGG,CAApC;AAHX,KAAD,CAAL,CAIGC,IAJH,CAIQC,QAAQ,IAAI;AACZX,MAAAA,UAAU,CAAC;AACPC,QAAAA,OAAO,EAAC,KADD;AAEPC,QAAAA,MAAM,EAACU,UAAU,IAAI,CAAC,GAAG,IAAIC,GAAJ,CAAQ,CAAC,GAAGD,UAAJ,EAAgB,GAAGE,KAAK,CAACC,IAAN,CAAWJ,QAAQ,CAACN,IAAT,CAAcW,OAAzB,CAAnB,CAAR,CAAJ,CAFd;AAGPb,QAAAA,OAAO,EAACQ,QAAQ,CAACN,IAAT,CAAcY,IAAd,GAAqBN,QAAQ,CAACN,IAAT,CAAca,WAHpC;AAIPd,QAAAA,KAAK,EAAC;AAJC,OAAD,CAAV;AAMAe,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBT,QAAQ,CAACN,IAAT,CAAcY,IAAvC,EAA6CN,QAAQ,CAACN,IAAT,CAAca,WAA3D;AACH,KAZL,EAaKG,KAbL,CAaW,MAAM;AACTrB,MAAAA,UAAU,CAAC;AACPC,QAAAA,OAAO,EAAC,KADD;AAEPI,QAAAA,IAAI,EAAC,IAFE;AAGPD,QAAAA,KAAK,EAAC;AAHC,OAAD,CAAV;AAKH,KAnBL;AAoBH,GA3BQ,EA2BP,CAACP,GAAD,EAAKC,UAAL,CA3BO,CAAT;AA4BA,SAAOC,OAAP;AACH;;GArCeH,W","sourcesContent":["import axios from 'axios'\nimport React, {useState, useEffect} from 'react'\n\nexport function useAxiosGet(url,pageNumber) {\n    const [request, setRequest] = useState({\n        loading:false,\n        titles:[],\n        hasMore:false,\n        error:false\n    })\n\n    useEffect(() => {\n        setRequest({\n            loading:true,\n            data:null,\n            error:false\n        })\n        let cancel\n        axios({\n            method: 'GET',\n            url: url + \"&page=\" + pageNumber,\n            cancelToken: new axios.cancelToken(c => cancel = c)\n        }).then(response => {\n                setRequest({\n                    loading:false,\n                    titles:prevTitles => [...new Set([...prevTitles, ...Array.from(response.data.results)])],\n                    hasMore:response.data.page < response.data.total_pages,\n                    error:false\n                })\n                console.log(\"has more?\", response.data.page, response.data.total_pages)\n            })\n            .catch(() => {\n                setRequest({\n                    loading:false,\n                    data:null,\n                    error:true\n                })\n            })\n    },[url,pageNumber])\n    return request;\n}\n"]},"metadata":{},"sourceType":"module"}
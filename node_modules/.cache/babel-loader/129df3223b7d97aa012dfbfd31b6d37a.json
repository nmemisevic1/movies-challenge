{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nexport default function useAxiosGet(query, pageNumber) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [titles, setTitles] = useState([]);\n  const [hasMore, setHasMore] = useState(false);\n  useEffect(() => {\n    setTitles([]);\n  }, [query]);\n  useEffect(() => {\n    setLoading(true);\n    setError(false);\n    let cancel;\n    axios({\n      method: 'GET',\n      url: url + \"&page=\" + pageNumber,\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    }).then(res => {\n      setBooks(prevBooks => {\n        return [...new Set([...prevBooks, ...res.data.docs.map(b => b.title)])];\n      });\n      setHasMore(res.data.docs.length > 0);\n      setLoading(false);\n    }).catch(e => {\n      if (axios.isCancel(e)) return;\n      setError(true);\n    });\n    return () => cancel();\n  }, [query, pageNumber]);\n  return {\n    loading,\n    error,\n    books,\n    hasMore\n  };\n}\n\n_s(useAxiosGet, \"9RRJIvjyJMTNKFJQDAo5I1DKtbI=\");","map":{"version":3,"sources":["/home/nedim/misija-challenge/src/Hooks/HttpsRequests.js"],"names":["useEffect","useState","axios","useAxiosGet","query","pageNumber","loading","setLoading","error","setError","titles","setTitles","hasMore","setHasMore","cancel","method","url","cancelToken","CancelToken","c","then","res","setBooks","prevBooks","Set","data","docs","map","b","title","length","catch","e","isCancel","books"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4BC,UAA5B,EAAwC;AAAA;;AACnD,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZW,IAAAA,SAAS,CAAC,EAAD,CAAT;AACH,GAFQ,EAEN,CAACP,KAAD,CAFM,CAAT;AAIAJ,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,QAAIK,MAAJ;AACAZ,IAAAA,KAAK,CAAC;AACFa,MAAAA,MAAM,EAAE,KADN;AAEFC,MAAAA,GAAG,EAAEA,GAAG,GAAG,QAAN,GAAiBX,UAFpB;AAGFY,MAAAA,WAAW,EAAE,IAAIf,KAAK,CAACgB,WAAV,CAAsBC,CAAC,IAAIL,MAAM,GAAGK,CAApC;AAHX,KAAD,CAAL,CAIGC,IAJH,CAIQC,GAAG,IAAI;AACXC,MAAAA,QAAQ,CAACC,SAAS,IAAI;AAClB,eAAO,CAAC,GAAG,IAAIC,GAAJ,CAAQ,CAAC,GAAGD,SAAJ,EAAe,GAAGF,GAAG,CAACI,IAAJ,CAASC,IAAT,CAAcC,GAAd,CAAkBC,CAAC,IAAIA,CAAC,CAACC,KAAzB,CAAlB,CAAR,CAAJ,CAAP;AACH,OAFO,CAAR;AAGAhB,MAAAA,UAAU,CAACQ,GAAG,CAACI,IAAJ,CAASC,IAAT,CAAcI,MAAd,GAAuB,CAAxB,CAAV;AACAvB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAVD,EAUGwB,KAVH,CAUSC,CAAC,IAAI;AACV,UAAI9B,KAAK,CAAC+B,QAAN,CAAeD,CAAf,CAAJ,EAAuB;AACvBvB,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KAbD;AAcA,WAAO,MAAMK,MAAM,EAAnB;AACH,GAnBQ,EAmBN,CAACV,KAAD,EAAQC,UAAR,CAnBM,CAAT;AAqBA,SAAO;AAAEC,IAAAA,OAAF;AAAWE,IAAAA,KAAX;AAAkB0B,IAAAA,KAAlB;AAAyBtB,IAAAA;AAAzB,GAAP;AACH;;GAhCuBT,W","sourcesContent":["import { useEffect, useState } from 'react'\nimport axios from 'axios'\n\nexport default function useAxiosGet(query, pageNumber) {\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false)\n    const [titles, setTitles] = useState([])\n    const [hasMore, setHasMore] = useState(false)\n\n    useEffect(() => {\n        setTitles([])\n    }, [query])\n\n    useEffect(() => {\n        setLoading(true)\n        setError(false)\n        let cancel\n        axios({\n            method: 'GET',\n            url: url + \"&page=\" + pageNumber,\n            cancelToken: new axios.CancelToken(c => cancel = c)\n        }).then(res => {\n            setBooks(prevBooks => {\n                return [...new Set([...prevBooks, ...res.data.docs.map(b => b.title)])]\n            })\n            setHasMore(res.data.docs.length > 0)\n            setLoading(false)\n        }).catch(e => {\n            if (axios.isCancel(e)) return\n            setError(true)\n        })\n        return () => cancel()\n    }, [query, pageNumber])\n\n    return { loading, error, books, hasMore }\n}"]},"metadata":{},"sourceType":"module"}